/* $Id: dsp_tones.c,v 1.4 2004/03/28 17:13:06 jolly Exp $ 
 *
 * Audio support data for ISDN4Linux.
 *
 * Copyright 2002/2003 by Andreas Eversberg (jolly@jolly.de)
 *
 * This software may be used and distributed according to the terms
 * of the GNU General Public License, incorporated herein by reference.
 *
 */

#include "layer1.h"
#include "helper.h"
#include "debug.h"
#include "dsp.h"

#define DATA_S sample_silence
#define SIZE_S &sizeof_silence
#define DATA_GA sample_german_all
#define SIZE_GA &sizeof_german_all
#define DATA_GO sample_german_old
#define SIZE_GO &sizeof_german_old
#define DATA_DT sample_american_dialtone
#define SIZE_DT &sizeof_american_dialtone
#define DATA_RI sample_american_ringing
#define SIZE_RI &sizeof_american_ringing
#define DATA_BU sample_american_busy
#define SIZE_BU &sizeof_american_busy
#define DATA_S1 sample_special1
#define SIZE_S1 &sizeof_special1
#define DATA_S2 sample_special2
#define SIZE_S2 &sizeof_special2
#define DATA_S3 sample_special3
#define SIZE_S3 &sizeof_special3

/***************/
/* tones loops */
/***************/

/* all tones are alaw encoded */
/* the last sample+1 is in phase with the first sample. the error is low */

static u8 sample_german_all[]= {
#ifndef SPL384
	0x80,0xab,0x81,0x6d,0xfd,0xdd,0x5d,0x9d,
	0x4d,0xd1,0x89,0x88,0xd0,0x4c,0x9c,0x5c,
	0xdc,0xfc,0x6c,
	0x80,0xab,0x81,0x6d,0xfd,0xdd,0x5d,0x9d,
	0x4d,0xd1,0x89,0x88,0xd0,0x4c,0x9c,0x5c,
	0xdc,0xfc,0x6c,
	0x80,0xab,0x81,0x6d,0xfd,0xdd,0x5d,0x9d,
	0x4d,0xd1,0x89,0x88,0xd0,0x4c,0x9c,0x5c,
	0xdc,0xfc,0x6c,
	0x80,0xab,0x81,0x6d,0xfd,0xdd,0x5d,0x9d,
	0x4d,0xd1,0x89,0x88,0xd0,0x4c,0x9c,0x5c,
	0xdc,0xfc,0x6c,
#else
	0x2a,0xd6,0x18,0x00,0xb0,0xb0,0x40,0x60,
	0xb8,0x66,0x3f,0x09,0xe1,0xc1,0xb1,0xb1,
	0x01,0x59,0xe9,0x33,0x36,0x78,0x80,0x40,
	0xb0,0x40,0x80,0x78,0x36,0x33,0xe9,0x59,
	0x01,0xb1,0xb1,0xc1,0xe1,0x09,0x3f,0x66,
	0xb8,0x60,0x40,0xb0,0xb0,0x00,0x18,0xd6,
	0x2a,0xd7,0x19,0x01,0xb1,0xb1,0x41,0x61,
	0xb9,0x67,0x3e,0x08,0xe0,0xc0,0xb0,0xb0,
	0x00,0x58,0xe8,0x32,0x37,0x79,0x81,0x41,
	0xb1,0x41,0x81,0x79,0x37,0x32,0xe8,0x58,
	0x00,0xb0,0xb0,0xc0,0xe0,0x08,0x3e,0x67,
	0xb9,0x61,0x41,0xb1,0xb1,0x01,0x19,0xd7,
	0x2a,0xd6,0x18,0x00,0xb0,0xb0,0x40,0x60,
	0xb8,0x66,0x3f,0x09,0xe1,0xc1,0xb1,0xb1,
	0x01,0x59,0xe9,0x33,0x36,0x78,0x80,0x40,
	0xb0,0x40,0x80,0x78,0x36,0x33,0xe9,0x59,
	0x01,0xb1,0xb1,0xc1,0xe1,0x09,0x3f,0x66,
	0xb8,0x60,0x40,0xb0,0xb0,0x00,0x18,0xd6,
	0x2a,0xd7,0x19,0x01,0xb1,0xb1,0x41,0x61,
	0xb9,0x67,0x3e,0x08,0xe0,0xc0,0xb0,0xb0,
	0x00,0x58,0xe8,0x32,0x37,0x79,0x81,0x41,
	0xb1,0x41,0x81,0x79,0x37,0x32,0xe8,0x58,
	0x00,0xb0,0xb0,0xc0,0xe0,0x08,0x3e,0x67,
	0xb9,0x61,0x41,0xb1,0xb1,0x01,0x19,0xd7,
	0x2a,0xd6,0x18,0x00,0xb0,0xb0,0x40,0x60,
	0xb8,0x66,0x3f,0x09,0xe1,0xc1,0xb1,0xb1,
	0x01,0x59,0xe9,0x33,0x36,0x78,0x80,0x40,
	0xb0,0x40,0x80,0x78,0x36,0x33,0xe9,0x59,
	0x01,0xb1,0xb1,0xc1,0xe1,0x09,0x3f,0x66,
	0xb8,0x60,0x40,0xb0,0xb0,0x00,0x18,0xd6,
	0x2a,0xd7,0x19,0x01,0xb1,0xb1,0x41,0x61,
	0xb9,0x67,0x3e,0x08,0xe0,0xc0,0xb0,0xb0,
	0x00,0x58,0xe8,0x32,0x37,0x79,0x81,0x41,
	0xb1,0x41,0x81,0x79,0x37,0x32,0xe8,0x58,
	0x00,0xb0,0xb0,0xc0,0xe0,0x08,0x3e,0x67,
	0xb9,0x61,0x41,0xb1,0xb1,0x01,0x19,0xd7,
	0x2a,0xd6,0x18,0x00,0xb0,0xb0,0x40,0x60,
	0xb8,0x66,0x3f,0x09,0xe1,0xc1,0xb1,0xb1,
	0x01,0x59,0xe9,0x33,0x36,0x78,0x80,0x40,
	0xb0,0x40,0x80,0x78,0x36,0x33,0xe9,0x59,
	0x01,0xb1,0xb1,0xc1,0xe1,0x09,0x3f,0x66,
	0xb8,0x60,0x40,0xb0,0xb0,0x00,0x18,0xd6,
	0x2a,0xd7,0x19,0x01,0xb1,0xb1,0x41,0x61,
	0xb9,0x67,0x3e,0x08,0xe0,0xc0,0xb0,0xb0,
	0x00,0x58,0xe8,0x32,0x37,0x79,0x81,0x41,
	0xb1,0x41,0x81,0x79,0x37,0x32,0xe8,0x58,
	0x00,0xb0,0xb0,0xc0,0xe0,0x08,0x3e,0x67,
	0xb9,0x61,0x41,0xb1,0xb1,0x01,0x19,0xd7,
#endif
};
static u32 sizeof_german_all = sizeof(sample_german_all);

static u8 sample_german_old[]= {
#ifndef SPL384
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0x8c,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0x8c,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0x8c,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0x8c,
#else
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
#endif
};
static u32 sizeof_german_old = sizeof(sample_german_old);

static u8 sample_american_dialtone[]= {
#ifndef SPL384
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
	0xec,0x68,0xe1,0x6d,0x6d,0x91,0x51,0xed,
	0x6d,0x01,0x1e,0x10,0x0c,0x90,0x60,0x70,
#if 0
	0x2a,0x18,0x90,0x6c,0x4c,0xbc,0x4c,0x6c,
	0x10,0x58,0x32,0xb9,0x31,0x2d,0x8d,0x0d,
	0x8d,0x2d,0x31,0x99,0x0f,0x28,0x60,0xf0,
	0xd0,0x50,0xd0,0x30,0x60,0x08,0x8e,0x67,
	0x09,0x19,0x21,0xe1,0xd9,0xb9,0x29,0x67,
	0x83,0x02,0xce,0xbe,0xee,0x1a,0x1b,0xef,
	0xbf,0xcf,0x03,0x82,0x66,0x28,0xb8,0xd8,
	0xe0,0x20,0x18,0x08,0x66,0x8f,0x09,0x61,
	0x31,0xd1,0x51,0xd1,0xf1,0x61,0x29,0x0e,
	0x98,0x30,0x2c,0x8c,0x0c,0x8c,0x2c,0x30,
	0xb8,0x33,0x59,0x11,0x6d,0x4d,0xbd,0x4d,
	0x6d,0x91,0x19,
#endif
#else
	0x2a,0x18,0x90,0x6c,0x4c,0xbc,0x4c,0x8c,
	0x10,0x58,0xb2,0x39,0x31,0x2d,0x8d,0x0d,
	0x8d,0x2d,0xf1,0x19,0x8f,0xe8,0x80,0x70,
	0xac,0x2c,0x50,0x70,0x80,0xc8,0x0e,0x07,
	0xb9,0x21,0x81,0x81,0x61,0x19,0x09,0xb7,
	0x33,0x52,0xe6,0x46,0x46,0x66,0x3e,0x42,
	0x2a,0x9b,0x3b,0x7a,0xce,0xc6,0x28,0x08,
	0x38,0x38,0x48,0x28,0x9e,0xef,0xe9,0xd9,
	0x01,0x31,0x71,0xf1,0xc1,0x59,0x17,0xce,
	0xf8,0x40,0x50,0xec,0x6c,0xec,0x50,0x40,
	0xc8,0x2f,0xd9,0x91,0x6d,0xcd,0x4d,0xcd,
	0x6d,0x71,0x79,0x1a,0xd8,0x10,0x8c,0x4c,
	0xbc,0x4c,0x8c,0x10,0xd8,0x1a,0x79,0x71,
	0x6d,0xcd,0x4d,0xcd,0x6d,0x91,0xd9,0x2f,
	0xc8,0x40,0x50,0xec,0x6c,0xec,0x50,0x40,
	0xf8,0xce,0x17,0x59,0xc1,0xf1,0x71,0x31,
	0x01,0xd9,0xe9,0xef,0x9e,0x28,0x48,0x38,
	0x38,0x08,0x28,0xc6,0xce,0x7a,0x3b,0x9b,
	0x2a,0x42,0x3e,0x66,0x46,0x46,0xe6,0x52,
	0x33,0xb7,0x09,0x19,0x61,0x81,0x81,0x21,
	0xb9,0x07,0x0e,0xc8,0x80,0x70,0x50,0x2c,
	0xac,0x70,0x80,0xe8,0x8f,0x19,0xf1,0x2d,
	0x8d,0x0d,0x8d,0x2d,0x31,0x39,0xb2,0x58,
	0x10,0x8c,0x4c,0xbc,0x4c,0x6c,0x90,0x18,
	0x2a,0x19,0x91,0x6d,0x4d,0xbd,0x4d,0x8d,
	0x11,0x59,0xb3,0x38,0x30,0x2c,0x8c,0x0c,
	0x8c,0x2c,0xf0,0x18,0x8e,0xe9,0x81,0x71,
	0xad,0x2d,0x51,0x71,0x81,0xc9,0x0f,0x06,
	0xb8,0x20,0x80,0x80,0x60,0x18,0x08,0xb6,
	0x32,0x53,0xe7,0x47,0x47,0x67,0x3f,0x43,
	0x2a,0x9a,0x3a,0x7b,0xcf,0xc7,0x29,0x09,
	0x39,0x39,0x49,0x29,0x9f,0xee,0xe8,0xd8,
	0x00,0x30,0x70,0xf0,0xc0,0x58,0x16,0xcf,
	0xf9,0x41,0x51,0xed,0x6d,0xed,0x51,0x41,
	0xc9,0x2e,0xd8,0x90,0x6c,0xcc,0x4c,0xcc,
	0x6c,0x70,0x78,0x1b,0xd9,0x11,0x8d,0x4d,
	0xbd,0x4d,0x8d,0x11,0xd9,0x1b,0x78,0x70,
	0x6c,0xcc,0x4c,0xcc,0x6c,0x90,0xd8,0x2e,
	0xc9,0x41,0x51,0xed,0x6d,0xed,0x51,0x41,
	0xf9,0xcf,0x16,0x58,0xc0,0xf0,0x70,0x30,
	0x00,0xd8,0xe8,0xee,0x9f,0x29,0x49,0x39,
	0x39,0x09,0x29,0xc7,0xcf,0x7b,0x3a,0x9a,
	0x2a,0x43,0x3f,0x67,0x47,0x47,0xe7,0x53,
	0x32,0xb6,0x08,0x18,0x60,0x80,0x80,0x20,
	0xb8,0x06,0x0f,0xc9,0x81,0x71,0x51,0x2d,
	0xad,0x71,0x81,0xe9,0x8e,0x18,0xf0,0x2c,
	0x8c,0x0c,0x8c,0x2c,0x30,0x38,0xb3,0x59,
	0x11,0x8d,0x4d,0xbd,0x4d,0x6d,0x91,0x19,
#endif
};
static u32 sizeof_american_dialtone = sizeof(sample_american_dialtone);

static u8 sample_american_ringing[]= {
#ifndef SPL384
	0x2a,0xe0,0xac,0x0c,0xbc,0x4c,0x8c,0x90,
	0x48,0xc7,0xc1,0xed,0xcd,0x4d,0xcd,0xed,
	0xc1,0xb7,0x08,0x30,0xec,0xcc,0xcc,0x8c,
	0x10,0x58,0x1a,0x99,0x71,0xed,0x8d,0x8d,
	0x2d,0x41,0x89,0x9e,0x20,0x70,0x2c,0xec,
	0x2c,0x70,0x20,0x86,0x77,0xe1,0x31,0x11,
	0xd1,0xf1,0x81,0x09,0xa3,0x56,0x58,0x00,
	0x40,0xc0,0x60,0x38,0x46,0x43,0x57,0x39,
	0xd9,0x59,0x99,0xc9,0x77,0x2f,0x2e,0xc6,
	0xd6,0x28,0xd6,0x36,0x26,0x2e,0x8a,0xa3,
	0x43,0x63,0x4b,0x4a,0x62,0x42,0xa2,0x8b,
	0x2f,0x27,0x37,0xd7,0x29,0xd7,0xc7,0x2f,
	0x2e,0x76,0xc8,0x98,0x58,0xd8,0x38,0x56,
	0x42,0x47,0x39,0x61,0xc1,0x41,0x01,0x59,
	0x57,0xa2,0x08,0x80,0xf0,0xd0,0x10,0x30,
	0xe0,0x76,0x87,0x21,0x71,0x2d,0xed,0x2d,
	0x71,0x21,0x9f,0x88,0x40,0x2c,0x8c,0x8c,
	0xec,0x70,0x98,0x1b,0x59,0x11,0x8d,0xcd,
	0xcd,0xed,0x31,0x09,0xb6,0xc0,0xec,0xcc,
	0x4c,0xcc,0xec,0xc0,0xc6,0x49,0x91,0x8d,
	0x4d,0xbd,0x0d,0xad,0xe1,
#else
	0x2a,0xe0,0xac,0x0c,0xbc,0xbc,0x8c,0x90,
	0x38,0x67,0x01,0xed,0xcd,0xbd,0xcd,0xed,
	0xb1,0xd7,0xe8,0x30,0xec,0xcc,0x4c,0x0c,
	0xac,0x60,0x4e,0x39,0x71,0xed,0x0d,0x0d,
	0xed,0x71,0xf9,0x02,0xd8,0x70,0xec,0x6c,
	0x6c,0x50,0x00,0x28,0x67,0x21,0x71,0xad,
	0x2d,0xad,0x31,0xd9,0x27,0x96,0xe0,0x30,
	0x10,0x10,0x30,0x60,0x88,0xda,0x57,0x59,
	0x01,0x41,0x41,0x61,0xf9,0xb7,0x02,0x56,
	0xf8,0x20,0x20,0x58,0xb8,0x56,0xce,0x2f,
	0x37,0xe9,0x09,0x89,0x29,0x37,0x9f,0x7b,
	0x32,0xfe,0x5e,0x1e,0x3e,0x2e,0x22,0x0a,
	0x2a,0x0a,0x22,0x2e,0x3e,0x1e,0x5e,0xfe,
	0x32,0x7b,0x9f,0x37,0x29,0x89,0x09,0xe9,
	0x37,0x2f,0xce,0x56,0xb8,0x58,0x20,0x20,
	0xf8,0x56,0x02,0xb7,0xf9,0x61,0x41,0x41,
	0x01,0x59,0x57,0xda,0x88,0x60,0x30,0x10,
	0x10,0x30,0xe0,0x96,0x27,0xd9,0x31,0xad,
	0x2d,0xad,0x71,0x21,0x67,0x28,0x00,0x50,
	0x6c,0x6c,0xec,0x70,0xd8,0x02,0xf9,0x71,
	0xed,0x0d,0x0d,0xed,0x71,0x39,0x4e,0x60,
	0xac,0x0c,0x4c,0xcc,0xec,0x30,0xe8,0xd7,
	0xb1,0xed,0xcd,0xbd,0xcd,0xed,0x01,0x67,
	0x38,0x90,0x8c,0xbc,0xbc,0x0c,0xac,0xe0,
	0x2a,0xe1,0xad,0x0d,0xbd,0xbd,0x8d,0x91,
	0x39,0x66,0x00,0xec,0xcc,0xbc,0xcc,0xec,
	0xb0,0xd6,0xe9,0x31,0xed,0xcd,0x4d,0x0d,
	0xad,0x61,0x4f,0x38,0x70,0xec,0x0c,0x0c,
	0xec,0x70,0xf8,0x03,0xd9,0x71,0xed,0x6d,
	0x6d,0x51,0x01,0x29,0x66,0x20,0x70,0xac,
	0x2c,0xac,0x30,0xd8,0x26,0x97,0xe1,0x31,
	0x11,0x11,0x31,0x61,0x89,0xdb,0x56,0x58,
	0x00,0x40,0x40,0x60,0xf8,0xb6,0x03,0x57,
	0xf9,0x21,0x21,0x59,0xb9,0x57,0xcf,0x2e,
	0x36,0xe8,0x08,0x88,0x28,0x36,0x9e,0x7a,
	0x33,0xff,0x5f,0x1f,0x3f,0x2f,0x23,0x0b,
	0x2a,0x0b,0x23,0x2f,0x3f,0x1f,0x5f,0xff,
	0x33,0x7a,0x9e,0x36,0x28,0x88,0x08,0xe8,
	0x36,0x2e,0xcf,0x57,0xb9,0x59,0x21,0x21,
	0xf9,0x57,0x03,0xb6,0xf8,0x60,0x40,0x40,
	0x00,0x58,0x56,0xdb,0x89,0x61,0x31,0x11,
	0x11,0x31,0xe1,0x97,0x26,0xd8,0x30,0xac,
	0x2c,0xac,0x70,0x20,0x66,0x29,0x01,0x51,
	0x6d,0x6d,0xed,0x71,0xd9,0x03,0xf8,0x70,
	0xec,0x0c,0x0c,0xec,0x70,0x38,0x4f,0x61,
	0xad,0x0d,0x4d,0xcd,0xed,0x31,0xe9,0xd6,
	0xb0,0xec,0xcc,0xbc,0xcc,0xec,0x00,0x66,
	0x39,0x91,0x8d,0xbd,0xbd,0x0d,0xad,0xe1,
#endif
};
static u32 sizeof_american_ringing = sizeof(sample_american_ringing);

static u8 sample_american_busy[]= {
#ifndef SPL384
	0x2a,0x00,0x6c,0x4c,0x4c,0x6c,0xb0,0x66,
	0x99,0x11,0x6d,0x8d,0x2d,0x41,0xd7,0x96,
	0x60,0xf0,0x70,0x40,0x58,0xf6,0x53,0x57,
	0x09,0x89,0xd7,0x5f,0xe3,0x2a,0xe3,0x5f,
	0xd7,0x89,0x09,0x57,0x53,0xf6,0x58,0x40,
	0x70,0xf0,0x60,0x96,0xd7,0x41,0x2d,0x8d,
	0x6d,0x11,0x99,0x66,0xb0,0x6c,0x4c,0x4c,
	0x6c,0x00,0x2a,0x01,0x6d,0x4d,0x4d,0x6d,
	0xb1,0x67,0x98,0x10,0x6c,0x8c,0x2c,0x40,
	0xd6,0x97,0x61,0xf1,0x71,0x41,0x59,0xf7,
	0x52,0x56,0x08,0x88,0xd6,0x5e,0xe2,0x2a,
	0xe2,0x5e,0xd6,0x88,0x08,0x56,0x52,0xf7,
	0x59,0x41,0x71,0xf1,0x61,0x97,0xd6,0x40,
	0x2c,0x8c,0x6c,0x10,0x98,0x67,0xb1,0x6d,
	0x4d,0x4d,0x6d,0x01,
#else
	0x2a,0x00,0x6c,0x4c,0x4c,0x6c,0xb0,0x66,
	0x99,0x11,0x6d,0x8d,0x2d,0xc1,0x97,0x76,
	0xe0,0xb0,0x30,0x00,0x78,0xc6,0x73,0x37,
	0x57,0xf7,0x1f,0x5b,0x7a,0x2b,0xbf,0xd7,
	0xb9,0x19,0x19,0x09,0xef,0x28,0x80,0x90,
	0xac,0xd0,0xc0,0xd6,0xe9,0x31,0x6d,0xcd,
	0x0d,0x51,0x99,0x46,0x30,0x8c,0xbc,0x4c,
	0xec,0x80,0x1b,0x01,0xed,0xcd,0xcd,0xed,
	0x01,0x1f,0xf8,0xf0,0x2c,0x2c,0x90,0xe0,
	0x06,0x47,0x79,0xe1,0xe1,0xf9,0x57,0xcf,
	0x1a,0x12,0x7a,0x53,0xe7,0xc7,0x5f,0x0a,
	0x76,0x98,0x80,0x40,0x00,0x78,0x8e,0xc9,
	0xb1,0x2d,0x6d,0x2d,0xb1,0x57,0x08,0x90,
	0x0c,0x4c,0xcc,0xac,0x98,0x77,0xf1,0x0d,
	0xbd,0x4d,0xed,0xe1,0xb2,0x80,0x2c,0x8c,
	0x8c,0x50,0xe0,0x0e,0x49,0xc1,0x71,0x71,
	0x01,0x39,0x7f,0x26,0xe8,0x88,0x28,0xc6,
	0x2e,0xea,0xca,0xce,0xf6,0x08,0x38,0x48,
	0x96,0xdb,0x09,0x01,0x91,0xd1,0xf1,0x21,
	0x6f,0x78,0x10,0x8c,0x0c,0x6c,0xf0,0x56,
	0xb9,0xd1,0xcd,0xbd,0xcd,0xad,0xf9,0x16,
	0x70,0x8c,0x4c,0xcc,0xac,0x58,0x53,0x61,
	0x51,0xed,0x2d,0xf1,0x19,0x33,0x68,0xe0,
	0x00,0x60,0x98,0xd6,0x72,0xef,0x9f,0x8f,
	0x2a,0x8e,0x9e,0xee,0x73,0xd7,0x99,0x61,
	0x01,0xe1,0x69,0x32,0x18,0xf0,0x2c,0xec,
	0x50,0x60,0x52,0x59,0xad,0xcd,0x4d,0x8d,
	0x71,0x17,0xf8,0xac,0xcc,0xbc,0xcc,0xd0,
	0xb8,0x57,0xf1,0x6d,0x0d,0x8d,0x11,0x79,
	0x6e,0x20,0xf0,0xd0,0x90,0x00,0x08,0xda,
	0x97,0x49,0x39,0x09,0xf7,0xcf,0xcb,0xeb,
	0x2f,0xc7,0x29,0x89,0xe9,0x27,0x7e,0x38,
	0x00,0x70,0x70,0xc0,0x48,0x0f,0xe1,0x51,
	0x8d,0x8d,0x2d,0x81,0xb3,0xe0,0xec,0x4c,
	0xbc,0x0c,0xf0,0x76,0x99,0xad,0xcd,0x4d,
	0x0d,0x91,0x09,0x56,0xb0,0x2c,0x6c,0x2c,
	0xb0,0xc8,0x8f,0x79,0x01,0x41,0x81,0x99,
	0x77,0x0b,0x5e,0xc6,0xe6,0x52,0x7b,0x13,
	0x1b,0xce,0x56,0xf8,0xe0,0xe0,0x78,0x46,
	0x07,0xe1,0x91,0x2d,0x2d,0xf1,0xf9,0x1e,
	0x00,0xec,0xcc,0xcc,0xec,0x00,0x1a,0x81,
	0xed,0x4d,0xbd,0x8d,0x31,0x47,0x98,0x50,
	0x0c,0xcc,0x6c,0x30,0xe8,0xd7,0xc1,0xd1,
	0xad,0x91,0x81,0x29,0xee,0x08,0x18,0x18,
	0xb8,0xd6,0xbe,0x2a,0x7b,0x5a,0x1e,0xf6,
	0x56,0x36,0x72,0xc7,0x79,0x01,0x31,0xb1,
	0xe1,0x77,0x96,0xc0,0x2c,0x8c,0x6c,0x10,
	0x98,0x67,0xb1,0x6d,0x4d,0x4d,0x6d,0x01,
#endif
};
static u32 sizeof_american_busy = sizeof(sample_american_busy);

static u8 sample_special1[]= {
#ifndef SPL384
	0x2a,0x2c,0xbc,0x6c,0xd6,0x71,0xbd,0x0d,
	0xd9,0x80,0xcc,0x4c,0x40,0x39,0x0d,0xbd,
	0x11,0x86,0xec,0xbc,0xec,0x0e,0x51,0xbd,
	0x8d,0x89,0x30,0x4c,0xcc,0xe0,0xe1,0xcd,
	0x4d,0x31,0x88,0x8c,0xbc,0x50,0x0f,0xed,
	0xbd,0xed,0x87,0x10,0xbc,0x0c,0x38,0x41,
	0x4d,0xcd,0x81,0xd8,0x0c,0xbc,0x70,0xd7,
	0x6d,0xbd,0x2d,
#else
	0x2a,0x20,0xb0,0x60,0x3e,0x99,0xb1,0x01,
	0x37,0x48,0x40,0xc0,0xe8,0x29,0xc1,0x41,
	0xb9,0xc6,0x00,0xb0,0x18,0x6f,0x61,0xb1,
	0xe1,0x1b,0x58,0xb0,0x80,0x5e,0x79,0xb1,
	0x01,0x97,0x08,0x40,0x40,0x88,0xd7,0xc1,
	0xb1,0x39,0x66,0x80,0xb0,0xd8,0x33,0xe1,
	0xb1,0xe1,0x33,0xd8,0xb0,0x80,0x66,0x39,
	0xb1,0xc1,0xd7,0x88,0x40,0x40,0x08,0x97,
	0x01,0xb1,0x79,0x5e,0x80,0xb0,0x58,0x1b,
	0xe1,0xb1,0x61,0x6f,0x18,0xb0,0x00,0xc6,
	0xb9,0x41,0xc1,0x29,0xe8,0xc0,0x40,0x48,
	0x37,0x01,0xb1,0x99,0x3e,0x60,0xb0,0x20,
	0x2a,0x21,0xb1,0x61,0x3f,0x98,0xb0,0x00,
	0x36,0x49,0x41,0xc1,0xe9,0x28,0xc0,0x40,
	0xb8,0xc7,0x01,0xb1,0x19,0x6e,0x60,0xb0,
	0xe0,0x1a,0x59,0xb1,0x81,0x5f,0x78,0xb0,
	0x00,0x96,0x09,0x41,0x41,0x89,0xd6,0xc0,
	0xb0,0x38,0x67,0x81,0xb1,0xd9,0x32,0xe0,
	0xb0,0xe0,0x32,0xd9,0xb1,0x81,0x67,0x38,
	0xb0,0xc0,0xd6,0x89,0x41,0x41,0x09,0x96,
	0x00,0xb0,0x78,0x5f,0x81,0xb1,0x59,0x1a,
	0xe0,0xb0,0x60,0x6e,0x19,0xb1,0x01,0xc7,
	0xb8,0x40,0xc0,0x28,0xe9,0xc1,0x41,0x49,
	0x36,0x00,0xb0,0x98,0x3f,0x61,0xb1,0x21,
	0x2a,0x20,0xb0,0x60,0x3e,0x99,0xb1,0x01,
	0x37,0x48,0x40,0xc0,0xe8,0x29,0xc1,0x41,
	0xb9,0xc6,0x00,0xb0,0x18,0x6f,0x61,0xb1,
	0xe1,0x1b,0x58,0xb0,0x80,0x5e,0x79,0xb1,
	0x01,0x97,0x08,0x40,0x40,0x88,0xd7,0xc1,
	0xb1,0x39,0x66,0x80,0xb0,0xd8,0x33,0xe1,
	0xb1,0xe1,0x33,0xd8,0xb0,0x80,0x66,0x39,
	0xb1,0xc1,0xd7,0x88,0x40,0x40,0x08,0x97,
	0x01,0xb1,0x79,0x5e,0x80,0xb0,0x58,0x1b,
	0xe1,0xb1,0x61,0x6f,0x18,0xb0,0x00,0xc6,
	0xb9,0x41,0xc1,0x29,0xe8,0xc0,0x40,0x48,
	0x37,0x01,0xb1,0x99,0x3e,0x60,0xb0,0x20,
	0x2a,0x21,0xb1,0x61,0x3f,0x98,0xb0,0x00,
	0x36,0x49,0x41,0xc1,0xe9,0x28,0xc0,0x40,
	0xb8,0xc7,0x01,0xb1,0x19,0x6e,0x60,0xb0,
	0xe0,0x1a,0x59,0xb1,0x81,0x5f,0x78,0xb0,
	0x00,0x96,0x09,0x41,0x41,0x89,0xd6,0xc0,
	0xb0,0x38,0x67,0x81,0xb1,0xd9,0x32,0xe0,
	0xb0,0xe0,0x32,0xd9,0xb1,0x81,0x67,0x38,
	0xb0,0xc0,0xd6,0x89,0x41,0x41,0x09,0x96,
	0x00,0xb0,0x78,0x5f,0x81,0xb1,0x59,0x1a,
	0xe0,0xb0,0x60,0x6e,0x19,0xb1,0x01,0xc7,
	0xb8,0x40,0xc0,0x28,0xe9,0xc1,0x41,0x49,
	0x36,0x00,0xb0,0x98,0x3f,0x61,0xb1,0x21,
#endif
};
static u32 sizeof_special1 = sizeof(sample_special1);

static u8 sample_special2[]= {
#ifndef SPL384
	0x2a,0xcc,0x8c,0xd7,0x4d,0x2d,0x18,0xbc,
	0x10,0xc1,0xbd,0xc1,0x10,0xbc,0x18,0x2d,
	0x4d,0xd7,0x8c,0xcc,0x2a,0xcd,0x8d,0xd6,
	0x4c,0x2c,0x19,0xbd,0x11,0xc0,0xbc,0xc0,
	0x11,0xbd,0x19,0x2c,0x4c,0xd6,0x8d,0xcd,
	0x2a,0xcc,0x8c,0xd7,0x4d,0x2d,0x18,0xbc,
	0x10,0xc1,0xbd,0xc1,0x10,0xbc,0x18,0x2d,
	0x4d,0xd7,0x8c,0xcc,0x2a,0xcd,0x8d,0xd6,
	0x4c,0x2c,0x19,0xbd,0x11,0xc0,0xbc,0xc0,
	0x11,0xbd,0x19,0x2c,0x4c,0xd6,0x8d,0xcd,
#else
	0x2a,0xc0,0x80,0x9f,0x41,0xe1,0x96,0xb0,
	0x18,0x09,0xb1,0x49,0x78,0xb0,0x28,0x21,
	0xb1,0x87,0x60,0x40,0x32,0x01,0x01,0x52,
	0x40,0x60,0xc7,0xb1,0x59,0xe8,0xb0,0xf8,
	0xb9,0xb1,0x89,0xd8,0xb0,0xf6,0xe1,0x41,
	0x3f,0x80,0xc0,0x4b,0xc1,0x81,0x5e,0x40,
	0xe0,0x17,0xb1,0x99,0x08,0xb0,0x48,0x79,
	0xb1,0x57,0x20,0xb0,0x66,0x61,0xc1,0x63,
	0x00,0x00,0x6f,0x41,0x61,0x46,0xb0,0x58,
	0xe9,0xb1,0x39,0x38,0xb0,0x68,0xd9,0xb1,
	0x37,0xe0,0x40,0xce,0x01,0x01,0x1a,0xc0,
	0x80,0x27,0x41,0x21,0xd6,0xb0,0x98,0xc9,
	0xb1,0xc9,0x98,0xb0,0xd6,0x21,0x41,0x27,
	0x80,0xc0,0x1a,0x01,0x01,0xce,0x40,0xe0,
	0x37,0xb1,0xd9,0x68,0xb0,0x38,0x39,0xb1,
	0xe9,0x58,0xb0,0x46,0x61,0x41,0x6f,0x00,
	0x00,0x63,0xc1,0x61,0x66,0xb0,0x20,0x57,
	0xb1,0x79,0x48,0xb0,0x08,0x99,0xb1,0x17,
	0xe0,0x40,0x5e,0x81,0xc1,0x4b,0xc0,0x80,
	0x3f,0x41,0xe1,0xf6,0xb0,0xd8,0x89,0xb1,
	0xb9,0xf8,0xb0,0xe8,0x59,0xb1,0xc7,0x60,
	0x40,0x52,0x01,0x01,0x32,0x40,0x60,0x87,
	0xb1,0x21,0x28,0xb0,0x78,0x49,0xb1,0x09,
	0x18,0xb0,0x96,0xe1,0x41,0x9f,0x80,0xc0,
	0x2a,0xc1,0x81,0x9e,0x40,0xe0,0x97,0xb1,
	0x19,0x08,0xb0,0x48,0x79,0xb1,0x29,0x20,
	0xb0,0x86,0x61,0x41,0x33,0x00,0x00,0x53,
	0x41,0x61,0xc6,0xb0,0x58,0xe9,0xb1,0xf9,
	0xb8,0xb0,0x88,0xd9,0xb1,0xf7,0xe0,0x40,
	0x3e,0x81,0xc1,0x4a,0xc0,0x80,0x5f,0x41,
	0xe1,0x16,0xb0,0x98,0x09,0xb1,0x49,0x78,
	0xb0,0x56,0x21,0xb1,0x67,0x60,0xc0,0x62,
	0x01,0x01,0x6e,0x40,0x60,0x47,0xb1,0x59,
	0xe8,0xb0,0x38,0x39,0xb1,0x69,0xd8,0xb0,
	0x36,0xe1,0x41,0xcf,0x00,0x00,0x1b,0xc1,
	0x81,0x26,0x40,0x20,0xd7,0xb1,0x99,0xc8,
	0xb0,0xc8,0x99,0xb1,0xd7,0x20,0x40,0x26,
	0x81,0xc1,0x1b,0x00,0x00,0xcf,0x41,0xe1,
	0x36,0xb0,0xd8,0x69,0xb1,0x39,0x38,0xb0,
	0xe8,0x59,0xb1,0x47,0x60,0x40,0x6e,0x01,
	0x01,0x62,0xc0,0x60,0x67,0xb1,0x21,0x56,
	0xb0,0x78,0x49,0xb1,0x09,0x98,0xb0,0x16,
	0xe1,0x41,0x5f,0x80,0xc0,0x4a,0xc1,0x81,
	0x3e,0x40,0xe0,0xf7,0xb1,0xd9,0x88,0xb0,
	0xb8,0xf9,0xb1,0xe9,0x58,0xb0,0xc6,0x61,
	0x41,0x53,0x00,0x00,0x33,0x41,0x61,0x86,
	0xb0,0x20,0x29,0xb1,0x79,0x48,0xb0,0x08,
	0x19,0xb1,0x97,0xe0,0x40,0x9e,0x81,0xc1,
#endif
};
static u32 sizeof_special2 = sizeof(sample_special2);

static u8 sample_special3[]= {
#ifndef SPL384
	0x2a,0xbc,0x18,0xcd,0x11,0x2c,0x8c,0xc1,
	0x4d,0xd6,0xbc,0xd6,0x4d,0xc1,0x8c,0x2c,
	0x11,0xcd,0x18,0xbc,0x2a,0xbd,0x19,0xcc,
	0x10,0x2d,0x8d,0xc0,0x4c,0xd7,0xbd,0xd7,
	0x4c,0xc0,0x8d,0x2d,0x10,0xcc,0x19,0xbd,
	0x2a,0xbc,0x18,0xcd,0x11,0x2c,0x8c,0xc1,
	0x4d,0xd6,0xbc,0xd6,0x4d,0xc1,0x8c,0x2c,
	0x11,0xcd,0x18,0xbc,0x2a,0xbd,0x19,0xcc,
	0x10,0x2d,0x8d,0xc0,0x4c,0xd7,0xbd,0xd7,
	0x4c,0xc0,0x8d,0x2d,0x10,0xcc,0x19,0xbd,
#else
	0x2a,0xb0,0xd6,0xc1,0x19,0x20,0x00,0x89,
	0xb1,0x6e,0xb0,0xc6,0x41,0x39,0x60,0x60,
	0xb9,0x41,0x66,0xb0,0x3e,0x41,0x09,0x80,
	0xe0,0x99,0xc1,0x96,0xb0,0x1a,0xb1,0x29,
	0x00,0xd8,0x59,0x01,0xe8,0xb0,0x33,0xb1,
	0x37,0xc0,0x78,0xe1,0x81,0x48,0x40,0x5f,
	0xb1,0x5f,0x40,0x48,0x81,0xe1,0x78,0xc0,
	0x37,0xb1,0x33,0xb0,0xe8,0x01,0x59,0xd8,
	0x00,0x29,0xb1,0x1a,0xb0,0x96,0xc1,0x99,
	0xe0,0x80,0x09,0x41,0x3e,0xb0,0x66,0x41,
	0xb9,0x60,0x60,0x39,0x41,0xc6,0xb0,0x6e,
	0xb1,0x89,0x00,0x20,0x19,0xc1,0xd6,0xb0,
	0x2a,0xb1,0xd7,0xc0,0x18,0x21,0x01,0x88,
	0xb0,0x6f,0xb1,0xc7,0x40,0x38,0x61,0x61,
	0xb8,0x40,0x67,0xb1,0x3f,0x40,0x08,0x81,
	0xe1,0x98,0xc0,0x97,0xb1,0x1b,0xb0,0x28,
	0x01,0xd9,0x58,0x00,0xe9,0xb1,0x32,0xb0,
	0x36,0xc1,0x79,0xe0,0x80,0x49,0x41,0x5e,
	0xb0,0x5e,0x41,0x49,0x80,0xe0,0x79,0xc1,
	0x36,0xb0,0x32,0xb1,0xe9,0x00,0x58,0xd9,
	0x01,0x28,0xb0,0x1b,0xb1,0x97,0xc0,0x98,
	0xe1,0x81,0x08,0x40,0x3f,0xb1,0x67,0x40,
	0xb8,0x61,0x61,0x38,0x40,0xc7,0xb1,0x6f,
	0xb0,0x88,0x01,0x21,0x18,0xc0,0xd7,0xb1,
	0x2a,0xb0,0xd6,0xc1,0x19,0x20,0x00,0x89,
	0xb1,0x6e,0xb0,0xc6,0x41,0x39,0x60,0x60,
	0xb9,0x41,0x66,0xb0,0x3e,0x41,0x09,0x80,
	0xe0,0x99,0xc1,0x96,0xb0,0x1a,0xb1,0x29,
	0x00,0xd8,0x59,0x01,0xe8,0xb0,0x33,0xb1,
	0x37,0xc0,0x78,0xe1,0x81,0x48,0x40,0x5f,
	0xb1,0x5f,0x40,0x48,0x81,0xe1,0x78,0xc0,
	0x37,0xb1,0x33,0xb0,0xe8,0x01,0x59,0xd8,
	0x00,0x29,0xb1,0x1a,0xb0,0x96,0xc1,0x99,
	0xe0,0x80,0x09,0x41,0x3e,0xb0,0x66,0x41,
	0xb9,0x60,0x60,0x39,0x41,0xc6,0xb0,0x6e,
	0xb1,0x89,0x00,0x20,0x19,0xc1,0xd6,0xb0,
	0x2a,0xb1,0xd7,0xc0,0x18,0x21,0x01,0x88,
	0xb0,0x6f,0xb1,0xc7,0x40,0x38,0x61,0x61,
	0xb8,0x40,0x67,0xb1,0x3f,0x40,0x08,0x81,
	0xe1,0x98,0xc0,0x97,0xb1,0x1b,0xb0,0x28,
	0x01,0xd9,0x58,0x00,0xe9,0xb1,0x32,0xb0,
	0x36,0xc1,0x79,0xe0,0x80,0x49,0x41,0x5e,
	0xb0,0x5e,0x41,0x49,0x80,0xe0,0x79,0xc1,
	0x36,0xb0,0x32,0xb1,0xe9,0x00,0x58,0xd9,
	0x01,0x28,0xb0,0x1b,0xb1,0x97,0xc0,0x98,
	0xe1,0x81,0x08,0x40,0x3f,0xb1,0x67,0x40,
	0xb8,0x61,0x61,0x38,0x40,0xc7,0xb1,0x6f,
	0xb0,0x88,0x01,0x21,0x18,0xc0,0xd7,0xb1,
#endif
};
static u32 sizeof_special3 = sizeof(sample_special3);

static u8 sample_silence[]= {
#ifndef SPL384
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
#else
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
	0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,0x2a,
#endif
};
static u32 sizeof_silence = sizeof(sample_silence);

struct tones_samples {
	u32 *len;
	u8 *data;
};
static struct 
tones_samples samples[] = {
	{&sizeof_german_all, sample_german_all},
	{&sizeof_german_old, sample_german_old},
	{&sizeof_american_dialtone, sample_american_dialtone},
	{&sizeof_american_ringing, sample_american_ringing},
	{&sizeof_american_busy, sample_american_busy},
	{&sizeof_special1, sample_special1},
	{&sizeof_special2, sample_special2},
	{&sizeof_special3, sample_special3},
	{NULL, NULL},
};

/***********************************
 * generate ulaw from alaw samples *
 ***********************************/

void 
dsp_audio_generate_ulaw_samples(void)
{
	int i,j;

	i = 0;
	while(samples[i].len) {
		j = 0;
		while(j < (*samples[i].len)) {
			samples[i].data[j] = 
				dsp_audio_alaw_to_ulaw[samples[i].data[j]];
			j++;
		}
		i++;
	}
}


/****************************
 * tone sequence definition *
 ****************************/

struct pattern {
	int tone;
	u8 *data[10];
	u32 *siz[10];
	u32 seq[10];
} pattern[] = {
	{TONE_GERMAN_DIALTONE,
	{DATA_GA,0,0,0,0,0,0,0,0,0},
	{SIZE_GA,0,0,0,0,0,0,0,0,0},
	{1900,0,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_OLDDIALTONE,
	{DATA_GO,0,0,0,0,0,0,0,0,0},
	{SIZE_GO,0,0,0,0,0,0,0,0,0},
	{1998,0,0,0,0,0,0,0,0,0}},

	{TONE_AMERICAN_DIALTONE,
	{DATA_DT,0,0,0,0,0,0,0,0,0},
	{SIZE_DT,0,0,0,0,0,0,0,0,0},
	{8000,0,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_DIALPBX,
	{DATA_GA,DATA_S,DATA_GA,DATA_S,DATA_GA,DATA_S,0,0,0,0},
	{SIZE_GA,SIZE_S,SIZE_GA,SIZE_S,SIZE_GA,SIZE_S,0,0,0,0},
	{2000,2000,2000,2000,2000,12000,0,0,0,0}},

	{TONE_GERMAN_OLDDIALPBX,
	{DATA_GO,DATA_S,DATA_GO,DATA_S,DATA_GO,DATA_S,0,0,0,0},
	{SIZE_GO,SIZE_S,SIZE_GO,SIZE_S,SIZE_GO,SIZE_S,0,0,0,0},
	{2000,2000,2000,2000,2000,12000,0,0,0,0}},

	{TONE_AMERICAN_DIALPBX,
	{DATA_DT,DATA_S,DATA_DT,DATA_S,DATA_DT,DATA_S,0,0,0,0},
	{SIZE_DT,SIZE_S,SIZE_DT,SIZE_S,SIZE_DT,SIZE_S,0,0,0,0},
	{2000,2000,2000,2000,2000,12000,0,0,0,0}},

	{TONE_GERMAN_RINGING,
	{DATA_GA,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GA,SIZE_S,0,0,0,0,0,0,0,0},
	{8000,32000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_OLDRINGING,
	{DATA_GO,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GO,SIZE_S,0,0,0,0,0,0,0,0},
	{8000,40000,0,0,0,0,0,0,0,0}},

	{TONE_AMERICAN_RINGING,
	{DATA_RI,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_RI,SIZE_S,0,0,0,0,0,0,0,0},
	{8000,32000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_RINGPBX,
	{DATA_GA,DATA_S,DATA_GA,DATA_S,0,0,0,0,0,0},
	{SIZE_GA,SIZE_S,SIZE_GA,SIZE_S,0,0,0,0,0,0},
	{4000,4000,4000,28000,0,0,0,0,0,0}},

	{TONE_GERMAN_OLDRINGPBX,
	{DATA_GO,DATA_S,DATA_GO,DATA_S,0,0,0,0,0,0},
	{SIZE_GO,SIZE_S,SIZE_GO,SIZE_S,0,0,0,0,0,0},
	{4000,4000,4000,28000,0,0,0,0,0,0}},

	{TONE_AMERICAN_RINGPBX,
	{DATA_RI,DATA_S,DATA_RI,DATA_S,0,0,0,0,0,0},
	{SIZE_RI,SIZE_S,SIZE_RI,SIZE_S,0,0,0,0,0,0},
	{4000,4000,4000,28000,0,0,0,0,0,0}},

	{TONE_GERMAN_BUSY,
	{DATA_GA,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GA,SIZE_S,0,0,0,0,0,0,0,0},
	{4000,4000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_OLDBUSY,
	{DATA_GO,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GO,SIZE_S,0,0,0,0,0,0,0,0},
	{1000,5000,0,0,0,0,0,0,0,0}},

	{TONE_AMERICAN_BUSY,
	{DATA_BU,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_BU,SIZE_S,0,0,0,0,0,0,0,0},
	{4000,4000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_HANGUP,
	{DATA_GA,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GA,SIZE_S,0,0,0,0,0,0,0,0},
	{4000,4000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_OLDHANGUP,
	{DATA_GO,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GO,SIZE_S,0,0,0,0,0,0,0,0},
	{1000,5000,0,0,0,0,0,0,0,0}},

	{TONE_AMERICAN_HANGUP,
	{DATA_DT,0,0,0,0,0,0,0,0,0},
	{SIZE_DT,0,0,0,0,0,0,0,0,0},
	{8000,0,0,0,0,0,0,0,0,0}},

	{TONE_SPECIAL_INFO,
	{DATA_S1,DATA_S2,DATA_S3,DATA_S,0,0,0,0,0,0},
	{SIZE_S1,SIZE_S2,SIZE_S3,SIZE_S,0,0,0,0,0,0},
	{2666,2666,2666,8002,0,0,0,0,0,0}},

	{TONE_GERMAN_GASSENBESETZT,
	{DATA_GA,DATA_S,0,0,0,0,0,0,0,0},
	{SIZE_GA,SIZE_S,0,0,0,0,0,0,0,0},
	{2000,2000,0,0,0,0,0,0,0,0}},

	{TONE_GERMAN_AUFSCHALTTON,
	{DATA_GO,DATA_S,DATA_GO,DATA_S,0,0,0,0,0,0},
	{SIZE_GO,SIZE_S,SIZE_GO,SIZE_S,0,0,0,0,0,0},
	{1000,5000,1000,17000,0,0,0,0,0,0}},

	{0,
	{0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0}},
};

/******************
 * copy tone data *
 ******************/

/* an sk_buff is generated from the number of samples needed.
 * the count will be changed and may begin from 0 each pattern period.
 * the clue is to precalculate the pointers and legths to use only one
 * memcpy per function call, or two memcpy if the tone sequence changes.
 *
 * pattern - the type of the pattern
 * count - the sample from the beginning of the pattern (phase)
 * len - the number of bytes
 *
 * return - the sk_buff with the sample
 *
 * if tones has finished (e.g. knocking tone), dsp->tones is turned off
 */
void dsp_tone_copy(dsp_t *dsp, u8 *data, int len)
{
	int index, count, start, num;
	struct pattern *pat;
	tone_t *tone = &dsp->tone;
 
	/* if we have no tone, we copy silence */
	if (!tone->tone) {
		memset(data, silence, len);
		return;
	}

	/* process pattern */
	pat = (struct pattern *)tone->pattern; /* points to the current pattern */
	index = tone->index; /* gives current sequence index */
	count = tone->count; /* gives current sample */

	/* copy sample */
	while(len) {
		/* find sample to start with */
		while(42) {
			/* warp arround */
			if (!pat->seq[index]) {
				count = 0;
				index = 0;
			}
			/* check if we are currently playing this tone */
			if (count < pat->seq[index]) {
				break;
			}
			if (dsp_debug & DEBUG_DSP_TONE)
				printk(KERN_DEBUG "%s: reaching next sequence (index=%d)\n", __FUNCTION__, index);
			count -= pat->seq[index];
			index++;
		}
		/* calculate start and number of samples */
		start = count % (*(pat->siz[index]));
		num = len;
		if (num+count > pat->seq[index])
			num = pat->seq[index] - count;
		if (num+start > (*(pat->siz[index])))
			num = (*(pat->siz[index])) - start;
		/* copy memory */
		memcpy(data, pat->data[index]+start, num);
		/* reduce length */
		data += num;
		count += num;
		len -= num;
	}
	tone->index = index;
	tone->count = count;

	/* return sk_buff */
	return;
}


/*******************************
 * send HW message to hfc card *
 *******************************/

static void
dsp_tone_hw_message(dsp_t *dsp, u8 *sample, int len)
{
	struct sk_buff *nskb;

	nskb = create_link_skb(PH_CONTROL | REQUEST, (len)?HW_SPL_LOOP_ON:HW_SPL_LOOP_OFF, len, sample, 0);
	if (!nskb) {
		printk(KERN_ERR "%s: No mem for skb.\n", __FUNCTION__);
		return;
	}
	/* unlocking is not required, because we don't expect a response */
	if (dsp->inst.down.func(&dsp->inst.down, nskb))
		dev_kfree_skb(nskb);
}


/*****************
 * timer expires *
 *****************/
void
dsp_tone_timeout(void *arg)
{
	dsp_t *dsp = arg;
	tone_t *tone = &dsp->tone;
	struct pattern *pat = (struct pattern *)tone->pattern;
	int index = tone->index;

	if (!tone->tone)
		return;

	index++;
	if (!pat->seq[index])
		index = 0;
	tone->index = index;
	
	/* set next tone */
	if (pat->data[index] == DATA_S)
		dsp_tone_hw_message(dsp, 0, 0);
	else
		dsp_tone_hw_message(dsp, pat->data[index], *(pat->siz[index]));
	/* set timer */
	init_timer(&tone->tl);
	tone->tl.expires = jiffies + (pat->seq[index] * HZ) / 8000;
	add_timer(&tone->tl);
}


/********************
 * set/release tone *
 ********************/

/*
 * tones are relaized by streaming or by special loop commands if supported
 * by hardware. when hardware is used, the patterns will be controlled by
 * timers.
 */
int
dsp_tone(dsp_t *dsp, int tone)
{
	struct pattern *pat;
	int i;
	tone_t *tonet = &dsp->tone;

	tonet->software = 0;
	tonet->hardware = 0;

	/* we turn off the tone */
	if (!tone) {
		if (dsp->features.hfc_loops)
		if (timer_pending(&tonet->tl))
			del_timer(&tonet->tl);
		if (dsp->features.hfc_loops)
			dsp_tone_hw_message(dsp, NULL, 0);
		tonet->tone = 0;
		return(0);
	}

	pat = NULL;
	i = 0;
	while(pattern[i].tone) {
		if (pattern[i].tone == tone) {
			pat = &pattern[i];
			break;
		} 
		i++;
	}
	if (!pat) {
		printk(KERN_WARNING "dsp: given tone 0x%x is invalid\n", tone);
		return(-EINVAL);
	}
	if (dsp_debug & DEBUG_DSP_TONE)
		printk(KERN_DEBUG "%s: now starting tone %d (index=%d)\n", __FUNCTION__, tone, 0);
	tonet->tone = tone;
	tonet->pattern = pat;
	tonet->index = 0;
	tonet->count = 0;

	if (dsp->features.hfc_loops) {
		tonet->hardware = 1;
		/* set first tone */
		dsp_tone_hw_message(dsp, pat->data[0], *(pat->siz[0]));
		/* set timer */
		if (timer_pending(&tonet->tl))
			del_timer(&tonet->tl);
		init_timer(&tonet->tl);
		tonet->tl.expires = jiffies + (pat->seq[0] * HZ) / 8000;
		add_timer(&tonet->tl);
	} else {
		tonet->software = 1;
	}

	return(0);
}





